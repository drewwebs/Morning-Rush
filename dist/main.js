!function(e){var t={};function i(s){if(t[s])return t[s].exports;var h=t[s]={i:s,l:!1,exports:{}};return e[s].call(h.exports,h,h.exports,i),h.l=!0,h.exports}i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var h in e)i.d(s,h,function(t){return e[t]}.bind(null,h));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/dist/",i(i.s=2)}([function(e,t,i){},function(e,t){window.addEventListener("load",(function(){var e=document.getElementById("canvas1"),t=e.getContext("2d");e.width=800,e.height=500;var i=new Image;i.src="./src/images/background.jpeg",i.onload=function(){t.drawImage(i,0,0)}}))},function(e,t,i){"use strict";i.r(t);i(0),i(1);function s(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var h=document.getElementById("canvas7"),n=h.getContext("2d");h.width=800,h.height=500;var r=function(){function e(t,i,s,h,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t,this.y=i,this.width=s,this.height=h,this.orderType=n}var t,i,r;return t=e,r=[{key:"clear",value:function(){n.clearRect(0,0,h.width,h.height)}}],(i=[{key:"draw",value:function(){var e=this.x+this.width,t=this.y+this.height;n.beginPath(),n.fillStyle="white",n.fill(),n.strokeStyle="black",n.lineWidth="1",n.moveTo(this.x+10,this.y),n.lineTo(e-10,this.y),n.quadraticCurveTo(e,this.y,e,this.y+10),n.lineTo(e,this.y+this.height-10),n.quadraticCurveTo(e,t,e-10,t),n.lineTo(this.x+10,t),n.quadraticCurveTo(this.x,t,this.x,t-10),n.lineTo(this.x,this.y+10),n.quadraticCurveTo(this.x,this.y,this.x+10,this.y),n.fill(),n.stroke(),n.fillStyle="#000",n.fillText(this.orderType,this.x+20,this.y+30)}}])&&s(t.prototype,i),r&&s(t,r),e}();function a(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var o=document.getElementById("canvas4"),u=o.getContext("2d");o.width=800,o.height=500;var d=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.height=48,this.width=32,this.x=125,this.y=290,this.moving=!1,this.frameX=0,this.frameY=3,this.cashierSprite=new Image,this.cashierSprite.src="src/images/L.png",this.speed=10}var t,i,s;return t=e,(i=[{key:"draw",value:function(){u.clearRect(0,0,o.width,o.height),u.drawImage(this.cashierSprite,this.width*this.frameX,this.height*this.frameY,this.width,this.height,this.x,this.y,this.width,this.height)}},{key:"move",value:function(){}}])&&a(t.prototype,i),s&&a(t,s),e}());function l(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var c=document.getElementById("canvas3"),f=c.getContext("2d");c.width=800,c.height=500;var g=function(){function e(t,i,s,h,n,r,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t,this.x=s,this.y=h,this.width=a.width/4,this.height=a.height/4,this.moving=!0,this.frameX=0,this.frameY=0,this.speed=i,this.guestSprite=new Image,this.guestSprite.src="./src/images/".concat(a.name,".png"),this.ordered=!1,this.waiting=!1,this.frustrated=!1,this.timeWaited=0,this.patience=n,this.orderType=r,this.showBubble=!1,this.bubble=!1}var t,i,s;return t=e,s=[{key:"clear",value:function(){f.clearRect(0,0,c.width,c.height)}}],(i=[{key:"wait",value:function(){this.waiting=!0,this.moving=!1,this.frameY=0,this.timeWaited+=1*p.speed,this.patience-=1*p.speed}},{key:"order",value:function(){this.bubble=this.bubble||new r(this.x+this.width,this.y-this.height/2,f.measureText(this.orderType).width+40,50,this.orderType),d.frameY=3,this.wait(),this.showBubble=!0,this.timeWaited>=100&&(this.timeWaited=0,this.waiting=!1,this.ordered=!0,p.numOrders+=1,this.frameY=2,this.moving=!0,d.frameY=2)}},{key:"waitForOrder",value:function(){this.wait(),this.patience-=1*p.speed,this.patience<=0&&(p.lives-=1,0===p.lives&&p.gameOver(),this.timeWaited=0,this.waiting=!1,this.frustrated=!0,p.speed+=.1,this.frameY=3,this.moving=!0,this.showBubble=!1,p.numOrders-=1)}},{key:"handleGuestFrame",value:function(){this.frameX<3&&this.moving?this.frameX++:this.frameX=0}},{key:"draw",value:function(){f.drawImage(this.guestSprite,this.width*this.frameX,this.height*this.frameY,this.width,this.height,this.x,this.y,this.width,this.height),this.handleGuestFrame(),this.showBubble&&this.bubble.draw()}},{key:"update",value:function(){var e=this;if(p.guests.forEach((function(t){t.id<e.id&&(p.collision(e,t)&&e.patience>0?e.wait():(e.waiting=!1,e.moving=!0))})),this.ordered||(!this.waiting&&this.x>126&&this.y>0?this.x-=.3:!this.waiting&&this.x<124&&this.y>0&&(this.x+=.3),this.y>=195&&this.order()),this.x>=600)if(this.frustrated||this.fulfilled){if(this.fulfilled)return this.waiting=!1,this.showBubble=!1,this.y-=p.speed,this.y+this.height<0&&p.guests.splice(p.guests.indexOf(this),1),void(this.frameY=3)}else this.waitForOrder();if(this.waiting){var t=!1;return p.guests.forEach((function(i){i.id<e.id&&e.showBubble&&i.showBubble&&p.collision(e.bubble,i.bubble)&&(t=!0)})),void(!1===t&&this.bubble.x+this.bubble.width/2<this.x+this.width/2&&(this.bubble.x+=1*p.speed))}this.ordered&&!this.frustrated?(this.x+=this.speed,p.guests.forEach((function(t){t.id<e.id&&e.showBubble&&t.showBubble&&p.collision(e.bubble,t.bubble)&&(e.bubble.y+=1*p.speed,e.bubble.x-=1*p.speed)})),this.bubble.y>=40&&(this.bubble.y-=1*p.speed),this.bubble.x+this.bubble.width/2>this.x+this.width/2&&(this.bubble.x-=.3333),this.bubble.x+=1*p.speed):this.frustrated?(this.y-=this.speed,this.y+this.height<0&&p.guests.splice(p.guests.indexOf(this),1)):this.y+=this.speed}}])&&l(t.prototype,i),s&&l(t,s),e}();function y(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var m=document.getElementById("canvas2"),v=m.getContext("2d");m.width=800,m.height=500;var w=["Hot Coffee","Redeye","Latte","Iced Coffee","Espresso"],b=[];b.push({name:"deadpool",width:128,height:192}),b.push({name:"newton",width:128,height:192}),b.push({name:"death_scythe",width:200,height:192}),b.push({name:"crowley_wings",width:192,height:192}),b.push({name:"jawa",width:128,height:192}),b.push({name:"barret",width:160,height:224});var p=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.speed=1,this.guests=[],this.numGuests=5,this.guestSpacing=300/this.speed,this.guestPatience=500/this.speed,this.numOrders=0,this.lives=5,this.score=0}var t,i,s;return t=e,(i=[{key:"initGuests",value:function(){for(var e=0;e<this.numGuests;e++){var t=e*-this.guestSpacing,i=75+100*Math.random(),s=b[b.length*Math.random()|0],h=w[w.length*Math.random()|0];this.guests.push(new g(e,this.speed,i,t,this.guestPatience,h,s))}}},{key:"handleGuests",value:function(){g.clear(),r.clear();for(var e=0;e<this.guests.length;e++)this.guests[e].update(),this.guests[e].draw();0===this.guests.length&&this.nextLevel()}},{key:"handleScoreboard",value:function(){v.clearRect(0,0,m.width,m.height),v.fillStyle="black",v.strokeStyle="black",v.font="bold 16px Roboto",v.fillText("Score: ".concat(this.score),700,20),v.fillText("Lives: ".concat(this.lives),700,40)}},{key:"collision",value:function(e,t){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)}},{key:"nextLevel",value:function(){this.speed*=1.2,this.numGuests+=3,this.initGuests()}},{key:"gameOver",value:function(){console.log("YOU LOSE")}}])&&y(t.prototype,i),s&&y(t,s),e}());function x(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var k=document.getElementById("canvas5"),I=k.getContext("2d");k.width=800,k.height=500;var S=document.getElementById("canvas6"),T=S.getContext("2d");S.width=150,S.height=450;var E=[{name:"Milk",width:20,height:20,x:660,y:275,icon_url:"./src/images/items/milk-carton.svg"},{name:"Cup",width:20,height:20,x:400,y:275,icon_url:"./src/images/items/coffee-mug.svg"},{name:"Ice",width:20,height:20,x:400,y:425,icon_url:"./src/images/items/ice-cube.svg"}],C=[{name:"Steamed Milk",width:20,height:20,x:270,y:275,reagent:"Milk",icon_url:"./src/images/items/red-milk-carton.svg"},{name:"Hot Coffee",width:20,height:20,x:320,y:425,reagent:"Cup",icon_url:"./src/images/items/hot-coffee.svg"},{name:"Iced Coffee",width:20,height:20,x:400,y:425,reagent:"Hot Coffee",icon_url:"./src/images/items/iced-coffee.svg"},{name:"Espresso",width:20,height:20,x:320,y:275,reagent:"Cup",icon_url:"./src/images/items/hot-espresso.svg"},{name:"Redeye",width:20,height:20,x:320,y:275,reagent:"Hot Coffee",icon_url:"./src/images/items/redeye.svg"},{name:"Latte",width:20,height:20,x:320,y:275,reagent:"Steamed Milk",icon_url:"./src/images/items/latte.svg"},{name:"Iced Latte",width:20,height:20,x:400,y:425,reagent:"Latte",icon_url:"./src/images/items/iced-latte.svg"}],O=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.keys=[],this.height=64,this.width=48,this.x=500,this.y=275,this.moving=!1,this.frameX=0,this.frameY=0,this.playerSprite=new Image,this.playerSprite.src="src/images/ryuk.png",this.speed=10,this.inventory=[]}var t,i,s;return t=e,(i=[{key:"handleInventory",value:function(){var e=this;E.forEach((function(t){p.collision(e,t)&&(e.inventory.length>=3&&e.inventory.pop(),e.addItemToInventory(t))}));var t=[];this.inventory.forEach((function(e){t.push(e.name)})),C.forEach((function(i){p.collision(e,i)&&t.includes(i.reagent)&&(e.inventory.splice(t.indexOf(i.reagent),1),e.addItemToInventory(i))}))}},{key:"addItemToInventory",value:function(e){e.icon=new Image,e.icon.src=e.icon_url,this.inventory.unshift(e)}},{key:"clearInventory",value:function(){this.inventory=[]}},{key:"renderItems",value:function(){this.inventory.forEach((function(e,t){T.drawImage(e.icon,10,10+150*t,125,125)}))}},{key:"serveGuest",value:function(e){var t=this,i=[];this.inventory.forEach((function(e){i.push(e.name)})),p.guests.forEach((function(s){if(s.ordered&&!s.fulfilled&&!s.frustrated&&t.inventory[e].name===s.orderType)return s.fulfilled=!0,p.score+=1,void t.inventory.splice(i.indexOf(s.orderType),1)}))}},{key:"update",value:function(){if(this.keys.ArrowUp){if(this.moving=!0,this.frameY=3,this.x<170&&this.y<350)return;this.y>275&&(this.y-=this.speed)}if(this.keys.ArrowDown&&(this.frameY=0,this.moving=!0,this.y<425&&(this.y+=this.speed)),this.keys.ArrowLeft){if(this.frameY=1,this.moving=!0,this.x<170&&this.y<350)return;this.x>125&&(this.x-=this.speed)}this.keys.ArrowRight&&(this.frameY=2,this.moving=!0,this.x<650&&(this.x+=this.speed)),this.keys.Delete&&this.clearInventory()}},{key:"drawSprite",value:function(e,t,i,s,h,n,r,a,o){I.drawImage(e,t,i,s,h,n,r,a,o)}},{key:"handlePlayerFrame",value:function(){this.frameX<3&&this.moving?this.frameX++:this.frameX=0}},{key:"draw",value:function(){I.clearRect(0,0,k.width,k.height),T.clearRect(0,0,S.width,S.height),this.drawSprite(this.playerSprite,this.width*this.frameX,this.height*this.frameY,this.width,this.height,this.x,this.y,this.width,this.height),this.handlePlayerFrame(),this.renderItems()}}])&&x(t.prototype,i),s&&x(t,s),e}());window.addEventListener("load",(function(){var e,t,i,s;function h(){requestAnimationFrame(h),t=Date.now(),(s=t-i)>e&&(i=t-s%e,O.draw(),O.update(),d.draw(),p.handleGuests(),p.handleScoreboard())}document.addEventListener("keydown",(function(e){e.handled||(O.keys[e.code]=!0,"Space"===e.code&&O.handleInventory(),O.keys.Digit1&&O.serveGuest(0),O.keys.Digit2&&O.serveGuest(1),O.keys.Digit3&&O.serveGuest(2),e.handled=!0)})),document.addEventListener("keyup",(function(e){delete O.keys[e.code],O.moving=!1,e.handled=!0})),p.initGuests(),e=1e3/30,i=Date.now(),h()}))}]);
//# sourceMappingURL=main.js.map