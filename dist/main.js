!function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/dist/",i(i.s=2)}([function(e,t,i){},function(e,t){window.addEventListener("load",(function(){var e=document.getElementById("canvas1"),t=e.getContext("2d");e.width=800,e.height=500;var i=new Image;i.src="./src/images/background.png",i.onload=function(){t.drawImage(i,0,0)}}))},function(e,t,i){"use strict";i.r(t);i(0),i(1);function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=document.getElementById("canvas7"),r=s.getContext("2d");s.width=800,s.height=500;var h=function(){function e(t,i,n,s,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t,this.y=i,this.width=n,this.height=s,this.orderType=r}var t,i,h;return t=e,h=[{key:"clear",value:function(){r.clearRect(0,0,s.width,s.height)}}],(i=[{key:"draw",value:function(){var e=this.x+this.width,t=this.y+this.height;r.beginPath(),r.fillStyle="white",r.fill(),r.strokeStyle="black",r.lineWidth="1",r.moveTo(this.x+10,this.y),r.lineTo(e-10,this.y),r.quadraticCurveTo(e,this.y,e,this.y+10),r.lineTo(e,this.y+this.height-10),r.quadraticCurveTo(e,t,e-10,t),r.lineTo(this.x+10,t),r.quadraticCurveTo(this.x,t,this.x,t-10),r.lineTo(this.x,this.y+10),r.quadraticCurveTo(this.x,this.y,this.x+10,this.y),r.fill(),r.stroke(),r.fillStyle="#000",r.fillText(this.orderType,this.x+20,this.y+30)}}])&&n(t.prototype,i),h&&n(t,h),e}();function a(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=document.getElementById("canvas4"),u=o.getContext("2d");o.width=800,o.height=500;var c=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.height=48,this.width=32,this.x=143,this.y=290,this.moving=!1,this.frameX=0,this.frameY=3,this.cashierSprite=new Image,this.cashierSprite.src="src/images/lightyagami.png",this.speed=10}var t,i,n;return t=e,(i=[{key:"draw",value:function(){u.clearRect(0,0,o.width,o.height),u.drawImage(this.cashierSprite,this.width*this.frameX,this.height*this.frameY,this.width,this.height,this.x,this.y,this.width,this.height)}},{key:"move",value:function(){}}])&&a(t.prototype,i),n&&a(t,n),e}());function d(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=document.getElementById("canvas3"),f=l.getContext("2d");l.width=800,l.height=500;var g=function(){function e(t,i,n,s,r,h,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t,this.width=a.width/4,this.height=a.height/4,this.x=n,this.y=s,this.moving=!0,this.frameX=0,this.frameY=0,this.speed=i,this.guestSprite=new Image,this.guestSprite.src="./src/images/".concat(a.name,".png"),this.ordered=!1,this.waiting=!1,this.frustrated=!1,this.timeWaited=0,this.patience=r,this.orderType=h,this.showBubble=!1,this.bubble=!1}var t,i,n;return t=e,n=[{key:"clear",value:function(){f.clearRect(0,0,l.width,l.height)}}],(i=[{key:"wait",value:function(){this.waiting=!0,this.moving=!1,this.frameY=0,this.timeWaited+=1*L.speed,this.patience-=1*L.speed}},{key:"order",value:function(){this.bubble=this.bubble||new h(this.x+this.width,this.y-this.height/2,f.measureText(this.orderType).width+40,50,this.orderType),c.frameY=3,this.wait(),this.showBubble=!0,this.timeWaited>=100&&(this.timeWaited=0,this.waiting=!1,this.ordered=!0,L.numOrders+=1,this.frameY=2,this.moving=!0,c.frameY=2)}},{key:"waitForOrder",value:function(){this.wait(),this.patience-=1*L.speed,this.patience<=0&&(L.lives-=1,0===L.lives&&(L.over=!0),this.timeWaited=0,this.waiting=!1,this.frustrated=!0,L.speed+=.1,this.frameY=3,this.moving=!0,this.showBubble=!1,L.numOrders-=1)}},{key:"handleGuestFrame",value:function(){this.frameX<3&&this.moving?this.frameX++:this.frameX=0}},{key:"draw",value:function(){f.drawImage(this.guestSprite,this.width*this.frameX,this.height*this.frameY,this.width,this.height,this.x,this.y,this.width,this.height),this.handleGuestFrame(),this.showBubble&&this.bubble.draw()}},{key:"update",value:function(){var e=this;if(L.guests.forEach((function(t){t.id<e.id&&(L.collision(e,t)&&e.patience>0?e.wait():(e.waiting=!1,e.moving=!0))})),this.ordered||(!this.waiting&&this.x>144&&this.y>0?this.x-=.3:!this.waiting&&this.x<142&&this.y>0&&(this.x+=.3),this.y>=185&&this.order()),this.x>=600)if(this.frustrated||this.fulfilled){if(this.fulfilled)return this.waiting=!1,this.showBubble=!1,this.y-=L.speed,this.y+this.height<0&&L.guests.splice(L.guests.indexOf(this),1),void(this.frameY=3)}else this.waitForOrder();if(this.waiting){var t=!1;return L.guests.forEach((function(i){i.id<e.id&&e.showBubble&&i.showBubble&&L.collision(e.bubble,i.bubble)&&(t=!0)})),void(!1===t&&this.bubble.x+this.bubble.width/2<this.x+this.width/2&&(this.bubble.x+=1*L.speed))}this.ordered&&!this.frustrated?(this.x+=this.speed,L.guests.forEach((function(t){t.id<e.id&&e.showBubble&&t.showBubble&&L.collision(e.bubble,t.bubble)&&(e.bubble.y+=1*L.speed,e.bubble.x-=1*L.speed)})),this.bubble.y>=40&&(this.bubble.y-=1*L.speed),this.bubble.x+this.bubble.width/2>this.x+this.width/2&&(this.bubble.x-=.3333),this.bubble.x+=1*L.speed):this.frustrated?(this.y-=this.speed,this.y+this.height<0&&L.guests.splice(L.guests.indexOf(this),1)):this.y+=this.speed}}])&&d(t.prototype,i),n&&d(t,n),e}();function m(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var y=document.getElementById("canvas4"),v=y.getContext("2d");y.width=800,y.height=500;var w=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.grinderPic=new Image,this.grinderPic.src="src/images/grinder.png",this.x=370,this.y=225,this.height=64,this.width=30,this.grinding=0}var t,i,n;return t=e,(i=[{key:"draw",value:function(){0!==this.grinding&&(370===this.x?this.x=372:this.x=370,this.grinding-=1),this.grinding>0&&(this.grinding-=1),v.drawImage(this.grinderPic,this.x,this.y,this.width,this.height)}}])&&m(t.prototype,i),n&&m(t,n),e}());function p(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return b(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function x(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var k=document.getElementById("canvas5"),E=k.getContext("2d");k.width=800,k.height=500;var I=document.getElementById("canvas6"),S=I.getContext("2d");I.width=150,I.height=450;var T=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.keys=[],this.height=64,this.width=48,this.x=500,this.y=275,this.moving=!1,this.frameX=0,this.frameY=0,this.playerSprite=new Image,this.playerSprite.src="src/images/ryuk.png",this.speed=10,this.inventory=[]}var t,i,n;return t=e,(i=[{key:"handleInventory",value:function(){var e=this,t="";P.forEach((function(i){L.collision(e,i)&&e.frameY===i.frameDir&&(e.addItemToInventory(i),t=i)}));var i=[];this.inventory.forEach((function(e){i.push(e.name)})),_.forEach((function(n){if(L.collision(e,n)&&e.frameY===n.frameDir){var s=!0;n.reagents.forEach((function(e){i.includes(e)||(s=!1)})),s&&(e.addItemToInventory(n,t),"Ground Espresso"===n.name&&(w.grinding=100))}})),this.inventory.length>3&&this.inventory.pop()}},{key:"addItemToInventory",value:function(e,t){var i=this;e.reagents&&function(){for(var t=p(e.reagents),n=!1;!1===n;)n=!0,i.inventory.forEach((function(e,s){t.forEach((function(r,h){e.name===r&&(i.inventory.splice(s,1),t.splice(h,1),n=!1)}))}))}(),e.icon=new Image,e.icon.src=e.icon_url,this.inventory.unshift(e),e.reagents&&this.inventory.forEach((function(e,n){e===t&&i.inventory.splice(n,1)}))}},{key:"clearInventory",value:function(){this.inventory=[]}},{key:"renderItems",value:function(){this.inventory.forEach((function(e,t){S.drawImage(e.icon,10,10+150*t,125,125)}))}},{key:"serveGuest",value:function(e){var t=this,i=[];this.inventory.forEach((function(e){i.push(e.name)})),L.guests.forEach((function(n){if(n.ordered&&!n.fulfilled&&!n.frustrated&&t.inventory[e].name===n.orderType)return n.fulfilled=!0,L.score+=1,void t.inventory.splice(i.indexOf(n.orderType),1)}))}},{key:"update",value:function(){if(this.keys.ArrowUp){if(this.moving=!0,this.frameY=3,this.x<170&&this.y<350)return;this.y>275&&(this.y-=this.speed)}if(this.keys.ArrowDown&&(this.frameY=0,this.moving=!0,this.y<350&&(this.y+=this.speed)),this.keys.ArrowLeft){if(this.frameY=1,this.moving=!0,this.x<170&&this.y<350)return;this.x>125&&(this.x-=this.speed)}this.keys.ArrowRight&&(this.frameY=2,this.moving=!0,this.x<650&&(this.x+=this.speed)),this.keys.Delete&&this.clearInventory()}},{key:"drawSprite",value:function(e,t,i,n,s,r,h,a,o){E.drawImage(e,t,i,n,s,r,h,a,o)}},{key:"handlePlayerFrame",value:function(){this.frameX<3&&this.moving?this.frameX++:this.frameX=0}},{key:"draw",value:function(){E.clearRect(0,0,k.width,k.height),S.clearRect(0,0,I.width,I.height),this.drawSprite(this.playerSprite,this.width*this.frameX,this.height*this.frameY,this.width,this.height,this.x,this.y,this.width,this.height),this.handlePlayerFrame(),this.renderItems()}}])&&x(t.prototype,i),n&&x(t,n),e}()),C=["Hot Coffee","Redeye","Latte","Iced Coffee","Espresso"],O=[{name:"deadpool",width:128,height:192},{name:"newton",width:128,height:192},{name:"death_scythe",width:200,height:192},{name:"crowley_wings",width:192,height:192},{name:"jawa",width:128,height:192},{name:"barret",width:160,height:224},{name:"L",width:128,height:192},{name:"ironman",width:128,height:192},{name:"mandalorian",width:128,height:192},{name:"yoda",width:128,height:192},{name:"astromechdroid",width:108,height:104},{name:"aziraphale_wings",width:192,height:192}],P=[{name:"Milk",width:10,height:20,x:680,y:325,frameDir:2,icon_url:"./src/images/items/milk.svg"},{name:"Cup",width:10,height:20,x:260,y:275,frameDir:3,icon_url:"./src/images/items/coffee-cup.svg"},{name:"Portafilter",width:100,height:20,x:490,y:275,frameDir:3,icon_url:"./src/images/items/portafilter.svg"}],_=[{name:"Steamed Milk",width:10,height:20,x:470,y:275,reagents:["Milk"],frameDir:3,icon_url:"./src/images/items/red-milk-carton.svg"},{name:"Hot Coffee",width:40,height:20,x:260,y:355,reagents:["Cup"],frameDir:0,icon_url:"./src/images/items/hot-coffee.png"},{name:"Iced Coffee",width:40,height:20,x:460,y:355,reagents:["Hot Coffee"],frameDir:0,icon_url:"./src/images/items/iced-coffee.svg"},{name:"Ground Espresso",width:1,height:20,x:370,y:275,reagents:["Portafilter"],frameDir:3,icon_url:"./src/images/items/full-portafilter.svg"},{name:"Espresso",width:100,height:20,x:490,y:275,reagents:["Cup","Ground Espresso"],frameDir:3,icon_url:"./src/images/items/hot-espresso.svg"},{name:"Redeye",width:100,height:20,x:490,y:275,reagents:["Hot Coffee","Ground Espresso"],frameDir:3,icon_url:"./src/images/items/redeye.svg"},{name:"Latte",width:100,height:20,x:490,y:275,reagents:["Steamed Milk","Espresso"],frameDir:3,icon_url:"./src/images/items/latte.svg"},{name:"Iced Latte",width:20,height:20,x:400,y:355,reagents:["Latte"],frameDir:0,icon_url:"./src/images/items/iced-latte-color.svg"}],D={x:600,y:275,width:100,height:20},j=!1;function G(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}window.addEventListener("load",(function(){var e,t,i,n;function s(){requestAnimationFrame(s),t=Date.now(),(n=t-i)>e&&!L.over&&(i=t-n%e,T.draw(),T.update(),c.draw(),L.handleGuests(),L.handleScoreboard(),w.draw())}document.addEventListener("keydown",(function(t){T.keys[t.code]=!0,"Space"===t.code&&T.handleInventory(),T.keys.Digit1&&L.collision(T,D)&&T.serveGuest(0),T.keys.Digit2&&L.collision(T,D)&&T.serveGuest(1),T.keys.Digit3&&L.collision(T,D)&&T.serveGuest(2),"Enter"===t.code&&!1===j&&(document.querySelector("#start-screen").style.display="none",j=!0,L.initGuests(),e=1e3/30,i=Date.now(),i,s())})),document.addEventListener("keyup",(function(e){delete T.keys[e.code],T.moving=!1,e.handled=!0}))}));var Y=document.getElementById("canvas2"),B=Y.getContext("2d");Y.width=800,Y.height=500;var L=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.speed=1,this.guests=[],this.numGuests=5,this.guestSpacing=300/this.speed,this.guestPatience=500/this.speed,this.numOrders=0,this.lives=5,this.score=0,this.over=!1}var t,i,n;return t=e,(i=[{key:"initGuests",value:function(){for(var e=0;e<this.numGuests;e++){var t=e*-this.guestSpacing,i=O[O.length*Math.random()|0],n=C[C.length*Math.random()|0];this.guests.push(new g(e,this.speed,105,t,this.guestPatience,n,i))}}},{key:"handleGuests",value:function(){g.clear(),h.clear(),0===this.guests.length&&this.nextLevel();for(var e=0;e<this.guests.length;e++)this.guests[e].update(),this.guests[e].draw()}},{key:"handleScoreboard",value:function(){B.clearRect(0,0,Y.width,Y.height),B.fillStyle="black",B.strokeStyle="black",B.font="bold 16px Roboto",B.fillText("Score: ".concat(this.score),700,20),B.fillText("Lives: ".concat(this.lives),700,40)}},{key:"collision",value:function(e,t){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)}},{key:"nextLevel",value:function(){this.speed*=1.2,this.numGuests+=3,this.initGuests()}},{key:"gameOver",value:function(){L.guests=[],L.speed=0}}])&&G(t.prototype,i),n&&G(t,n),e}())}]);
//# sourceMappingURL=main.js.map